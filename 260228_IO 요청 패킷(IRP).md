## I/O 요청 패킷 (IRP)

드라이버와 운영체제가 통신하는 데 사용하는 커널모드 구조체

디바이스 드라이버로 전송되는 대부분의 요청은 이걸로 패키지된다.

프로그램 → 운영체제 → 드라이버 → 하드웨어

에서 운영체제 → 드라이버로 보내는 패킷이 IRP

일반적으로 IRP는 스택에 정렬된 여러 드라이버에서 처리된다.

### 디바이스 노드 및 디바이스 스택

![image.png](attachment:60ad6bdf-e52a-4b17-a82f-c9e3f9dfab5c:image.png)

IRP는 디바이스 스택의 최상위 디바이스 개체로 먼저 전송된다. 사진을 기준으로 필터 디바이스 개체 (filter DO)로 전송된다.

→ 필터 DO에서는 처리 후 디바이스 스택 아래 FDO 또는 PDO로 전달한다. (기능과 물리 차이)

### 특징

드라이버가 I/O 요청을 처리하는 데 필요한 모든 정보를 보유한다.

공통적 정보, 특정적 정보가 나뉘어 포함돼 전송이 이루어진다.
